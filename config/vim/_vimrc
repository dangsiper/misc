set cscopeprg=gtags-cscope
if filereadable("GTAGS")
    execute "cs add GTAGS"
endif
if filereadable("Session.vim")
    execute "source Session.vim"
    autocmd VimLeave * :mksession!
endif
if !has("gui_running")
    set mouse-=a
    set nocursorline
else
    if has('win32')
        set guifont=Consolas:h15:cANSI
    elseif has('unix')
        set guifont=Monospace\ 15
    endif
    set mouse+=a
    set cursorline
    tmenu ToolBar.BuiltIn20 Toggle Tlist
    amenu ToolBar.BuiltIn20 :TlistToggle<CR>:copen<CR><C-W><C-K>
    tmenu ToolBar.BuiltIn0 Find references
    amenu ToolBar.BuiltIn0 :cs find s <C-R><C-W><CR>
    tmenu ToolBar.BuiltIn18 Show buffers
    amenu ToolBar.BuiltIn18 :BufExplorer<CR>
    tmenu ToolBar.BuiltIn10 Find definition
    amenu ToolBar.BuiltIn10 :cs find g 
    nmap <C-RightMouse> <C-O>
    set guioptions-=m
endif
set hlsearch
set ignorecase
set smartcase
set nobackup
set nowrap
syntax on
set laststatus=2
set smarttab
set tabstop=4
set shiftwidth=4
set expandtab
set autoindent
set showcmd
set nocompatible
set backspace=indent,eol,start
filetype plugin indent on
let Tlist_Show_One_File=1
let Tlist_Exit_OnlyWindow=1
nmap <C-l> :TlistToggle<CR>
nmap ff :cs find f <C-R><C-F><CR>
nmap fd :cs find g <C-R><C-W><CR>
nmap fs :cs find s <C-R><C-W><CR>
language C
set cscopequickfix=s-,c-,d-,i-,t-,e-,g-
set cst
nmap cn :cn<CR>
nmap cp :cp<CR>
let g:ctrlp_use_caching = 1
let g:ctrlp_clear_cache_on_exit = 0
let g:ctrlp_working_path_mode = 0
let g:ctrlp_lazy_update = 1
let g:ctrlp_extensions = ['funky']
let mapleader = ";"
nmap <C-\> :CtrlPMRUFiles<CR>
nmap <C-b> :CtrlPBuffer<CR>
nmap <C-t> :CtrlPBufTagAll<CR>
cmap bb BufExplorer
set showcmd
